---
- name: make config for calling API
  template:
    src=office-api-config.json.j2
    dest='{{ item.filename }}'
  with_items: '{{ secret_office_api_config }}'

- file: path=~/git/{{ secret_office_organization }} state=directory

- name: make repo setting
  template: >-
    src=organization_envrc.j2
    dest=~/git/{{ secret_office_organization }}/.envrc

- name: make repo vimrc
  template: >-
    src=organization_vimrc.j2
    dest=~/git/{{ secret_office_organization }}/.vimrc.local

- file: path=~/git/{{ secret_office_dev_envrc.repo }} state=directory

- name: make dev envrc
  template: >-
    src=organization_envrc_go.j2
    dest=~/git/{{ secret_office_dev_envrc.repo }}/.envrc

- name: make dev envrc
  template: >-
    src=organization_vimrc_go.j2
    dest=~/git/{{ secret_office_dev_envrc.repo }}/.vimrc.local

- name: make ssh config
  template: >-
    src=ssh_config.j2
    dest=~/.ssh/config
